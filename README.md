# üè¶ –°–∏—Å—Ç–µ–º–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –ö–∞—Ä—Ç–∞–º–∏

![Java](https://img.shields.io/badge/Java-17+-blue.svg)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.0-green.svg)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue.svg)
![Docker](https://img.shields.io/badge/Docker-ready-blue.svg)

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏ —Å –ø–æ–ª–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ–ø–µ—Ä–∞—Ü–∏–π: –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ –¥–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏. –°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º refresh token
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AES-256
- **–ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Device Fingerprinting** –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã —Å–µ—Å—Å–∏–π
- **–†–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞** (USER/ADMIN)

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Clean Architecture** —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ–µ–≤
- **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏** —Å —Ñ–∞–±—Ä–∏—á–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º
- **AOP –∞—Å–ø–µ–∫—Ç—ã** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è/—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **Spring Data JPA** —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å** –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### üìã –ê—É–¥–∏—Ç –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
- **Spring Data JPA Auditing** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **@CreatedDate / @LastModifiedDate** –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
- **@CreatedBy / @LastModifiedBy** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–≤—Ç–æ—Ä–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **UserAuditorAwareImpl** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∞—É–¥–∏—Ç–æ—Ä—Å–∫–∏—Ö –ø–æ–ª–µ–π
- **–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π** —Å –∫–∞—Ä—Ç–∞–º–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏

### üìñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏** –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **OpenApiFileGenerator** —Å–æ–∑–¥–∞–µ—Ç `docs/openapi.yaml` —Ñ–∞–π–ª
- **Swagger UI** —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- **–î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ö–µ–º—ã** –≤—Å–µ—Ö DTO –∏ endpoint'–æ–≤
- **–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### üìä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∫–∞—Ä—Ç–∞–º–∏
- –ó–∞—è–≤–∫–∏ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç —Å —Å–∏—Å—Ç–µ–º–æ–π –æ–¥–æ–±—Ä–µ–Ω–∏—è
- –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∫–∞—Ä—Ç
- –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å

### üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Spring Boot 3.2.0** —Å Java 17+
- **Spring Security** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **PostgreSQL** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ë–î
- **Liquibase** –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
- **Docker & Docker Compose** –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏
- **Swagger/OpenAPI** –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API
- **JUnit & Mockito** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üì± API Endpoints

### üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```http
POST /auth/sign-up      # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST /auth/sign-in      # –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
POST /auth/refresh      # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
```

### üí≥ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏
```http
GET    /cards/my                    # –ú–æ–∏ –∫–∞—Ä—Ç—ã
GET    /cards/my/active            # –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã
GET    /cards/{id}                 # –ö–∞—Ä—Ç–∞ –ø–æ ID
GET    /cards/all                  # –í—Å–µ –∫–∞—Ä—Ç—ã (–∞–¥–º–∏–Ω)
POST   /cards/{id}/unblock         # –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–∞–¥–º–∏–Ω)
```

### üìù –ó–∞—è–≤–∫–∏ –Ω–∞ –∫–∞—Ä—Ç—ã
```http
POST   /card-applications                    # –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É
GET    /card-applications/my                # –ú–æ–∏ –∑–∞—è–≤–∫–∏
POST   /card-applications/{id}/cancel       # –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É
GET    /card-applications/admin/all         # –í—Å–µ –∑–∞—è–≤–∫–∏ (–∞–¥–º–∏–Ω)
POST   /card-applications/{id}/approve      # –û–¥–æ–±—Ä–∏—Ç—å (–∞–¥–º–∏–Ω)
POST   /card-applications/{id}/reject       # –û—Ç–∫–ª–æ–Ω–∏—Ç—å (–∞–¥–º–∏–Ω)
```

### üîí –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É
```http
POST   /card-block-requests                 # –°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å
GET    /card-block-requests/my             # –ú–æ–∏ –∑–∞–ø—Ä–æ—Å—ã
POST   /card-block-requests/{id}/cancel    # –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å
GET    /card-block-requests/admin/all      # –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã (–∞–¥–º–∏–Ω)
POST   /card-block-requests/{id}/approve   # –û–¥–æ–±—Ä–∏—Ç—å (–∞–¥–º–∏–Ω)
POST   /card-block-requests/{id}/reject    # –û—Ç–∫–ª–æ–Ω–∏—Ç—å (–∞–¥–º–∏–Ω)
```

### üí∏ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
```http
POST   /transactions/transfer      # –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏
GET    /transactions/my           # –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
GET    /transactions/{id}         # –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ ID
GET    /transactions/all          # –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–∞–¥–º–∏–Ω)
```

### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–ê–¥–º–∏–Ω)
```http
GET    /users                     # –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
GET    /users/{id}               # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ ID
POST   /users                    # –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST   /users/{id}/toggle-status # –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å
DELETE /users/{id}               # –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

## üõ†Ô∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Java 17+
- Maven 3.8+
- Docker & Docker Compose (–¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)

### üñ•Ô∏è –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone https://github.com/your-username/bank-cards.git
cd bank-cards
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

3. **–ó–∞–ø—É—Å–∫ PostgreSQL**
```bash
docker run --name postgres-bank \
  -e POSTGRES_DB=bank_rest \
  -e POSTGRES_USER=root \
  -e POSTGRES_PASSWORD=qwerty \
  -p 6543:5432 \
  -d postgres:16
```

4. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å–±–æ—Ä–∫–∞**
```bash
mvn clean install -DskipTests
```

5. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π**
```bash
mvn liquibase:update
```

6. **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
```bash
mvn spring-boot:run
```

### üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
cp .env.example .env
```

2. **–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤**
```bash
docker-compose --env-file [PATH_TO_ENV] up -d --build
```

3. **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤**
```bash
docker-compose logs -f app
```

4. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤**
```bash
docker-compose down
```

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:**
```bash
docker-compose ps
```

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
```bash
docker exec -it bank_cards_postgres psql -U root -d bank_rest
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
```bash
docker-compose logs -f app
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. **OpenApiFileGenerator** –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
2. –ü–æ–ª—É—á–∞–µ—Ç JSON —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∏–∑ `/v3/api-docs`
3. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ YAML —Ñ–æ—Ä–º–∞—Ç
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ —Ñ–∞–π–ª `docs/openapi.yaml`

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å–∞–º:

- **Swagger UI**: http://localhost:8080/api/v1/swagger-ui/index.html
- **OpenAPI JSON**: http://localhost:8080/api/v1/v3/api-docs
- **OpenAPI YAML**: http://localhost:8080/api/v1/v3/api-docs.yaml
- **–õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª**: `docs/openapi.yaml`

### üìñ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

- **–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö endpoint'–æ–≤** —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–°—Ö–µ–º—ã –≤—Å–µ—Ö DTO** —Å –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏
- **–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤** –∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** –∏ —Ç—Ä–µ–±—É–µ–º—ã—Ö —Ç–æ–∫–µ–Ω–∞—Ö
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä—è–º–æ –≤ Swagger UI

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (.env —Ñ–∞–π–ª)

```bash
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_URL=jdbc:postgresql://localhost:6543/bank_rest
DB_USERNAME=root
DB_PASSWORD=qwerty

# –°–µ—Ä–≤–µ—Ä
SERVER_PORT=8080
SERVER_CONTEXT_PATH=/api/v1
SPRING_PROFILES_ACTIVE=dev

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
JWT_SECRET=your-super-secret-jwt-key-here
ENCRYPTION_KEY=your-encryption-key-here

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
APP_EXPIRY_DATE=3
SERVER_PORT=8080
SERVER_CONTEXT_PATH=/api/v1

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL_ROOT=ERROR
LOG_LEVEL_APP=DEBUG
LOG_FILE_PATH=logs/app.log
```
### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ –¥–æ–∫–µ—Ä –∫–æ–º–ø–æ—É–∑(.env —Ñ–∞–π–ª)

```bash
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
SPRING_PROFILES_ACTIVE=prod
SERVER_PORT=9999

POSTGRES_DB=bank_cards_db
POSTGRES_USER=bank_user
POSTGRES_PASSWORD=StrongProductionPassword123!
POSTGRES_PORT=4321

DB_URL=jdbc:postgresql://postgres:5432/bank_cards_db
DB_USERNAME=bank_user
DB_PASSWORD=StrongProductionPassword123!


# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
JWT_SECRET=your-super-secret-jwt-key-here
ENCRYPTION_KEY=your-encryption-key-here

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—Ä—Ç
APP_EXPIRY_DATE=3

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL_ROOT=WARN
LOG_LEVEL_APP=INFO
LOG_FILE_PATH=/app/logs/app-prod.log
```

### –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:

| –†–æ–ª—å  | –¢–µ–ª–µ—Ñ–æ–Ω        | –ü–∞—Ä–æ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ           |
|-------|----------------|--------|--------------------|
| ADMIN | +7(900)1234567 | qwe    | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä      |
| USER  | +7(900)1234568 | qwe    | –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:**
```bash
mvn test
```

**–ó–∞–ø—É—Å–∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:**
```bash
mvn test -Dtest=AuthenticationServiceTest
```

**–û—Ç—á–µ—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏:**
```bash
mvn jacoco:report
```

## üèÜ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### üé≠ AOP –∞—Å–ø–µ–∫—Ç—ã
- **CardDecryptionAspect**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∏–∑ –ë–î
- **CardMaskingAspect**: –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç –≤ DTO –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### üìã –°–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Data JPA Auditing:

```java
@EnableJpaAuditing  // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∞—É–¥–∏—Ç–∞ –≤ AppConfig

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
@CreatedDate
private Instant createdAt;

@LastModifiedDate  
private Instant updatedAt;

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
@CreatedBy
private User createdBy;

@LastModifiedBy
private User lastModifiedBy;
```

**UserAuditorAwareImpl** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∞—É–¥–∏—Ç–∞:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `AuthenticatedUserUtil` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–∏ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Spring Security –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

### ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
- **@ValidCardType**: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–∞ –∫–∞—Ä—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º enum —Ñ–∞–±—Ä–∏–∫–∏
- **@ValidPhoneNumber**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- **@ValidTransactionRequest**: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥
- **@ValidBlockRequest**: –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∫–∞—Ä—Ç—ã

### üîÑ –°—Ç–∞—Ç—É—Å–Ω—ã–µ –º–∞—à–∏–Ω—ã
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ enum —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `EnumInterface` –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞–º–∏:

```java
public interface EnumInterface {
    String getDescription();
    
    // –§–∞–±—Ä–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏
    static <E extends Enum<E> & EnumInterface> String toDescription(Class<E> enumClass, String value);
    static <E extends Enum<E> & EnumInterface> Boolean isExists(Class<E> enumClass, String value);
    static <E extends Enum<E> & EnumInterface> String getEnumDescription(Class<E> enumClass);
}
```

–°—Ç–∞—Ç—É—Å—ã –≤ —Å–∏—Å—Ç–µ–º–µ:
- `CardStatus`: ACTIVE, BLOCKED, EXPIRED
- `TransactionStatus`: SUCCESS, CANCELLED, FAILED, REFUNDED
- `CardRequestStatus`: PENDING, APPROVED, REJECTED, CANCELLED

### üîê –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- JWT —Ç–æ–∫–µ–Ω—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- Device fingerprinting –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å AES-256
- –†–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ `@PreAuthorize`

### üìä –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**OpenApiFileGenerator** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ CommandLineRunner:
1. –û–∂–∏–¥–∞–µ—Ç –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (3 —Å–µ–∫—É–Ω–¥—ã)
2. –î–µ–ª–∞–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å –∫ `/v3/api-docs`
3. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç JSON –≤ YAML
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `docs/openapi.yaml`
5. –õ–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JPA –∑–∞–ø—Ä–æ—Å—ã** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏–Ω–¥–µ–∫—Å–æ–≤
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** –¥–ª—è –≤—Å–µ—Ö —Å–ø–∏—Å–æ—á–Ω—ã—Ö API
- **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- **Connection pooling** —Å HikariCP
- **@BatchSize** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ N+1 –ø—Ä–æ–±–ª–µ–º
- **Scheduled –∑–∞–¥–∞—á–∏** –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å—Ç–µ–∫—à–∏—Ö –∫–∞—Ä—Ç

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some AmazingFeature'`)
4. Push –≤ branch (`git push origin feature/AmazingFeature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üîÆ –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
### üéØ –ü–∞—Ç—Ç–µ—Ä–Ω Strategy –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```java
// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
public interface TransactionStatusStrategy {
    TransactionDto processTransaction(TransferRequest request, Card fromCard, Card toCard);
    boolean canHandle(TransactionStatus status);
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
@Component
public class SuccessTransactionStrategy implements TransactionStatusStrategy {
    @Override
    public TransactionDto processTransaction(TransferRequest request, Card fromCard, Card toCard) {
        // –õ–æ–≥–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    }
    
    @Override
    public boolean canHandle(TransactionStatus status) {
        return status == TransactionStatus.SUCCESS;
    }
}

@Component
public class FailedTransactionStrategy implements TransactionStatusStrategy {
    @Override
    public TransactionDto processTransaction(TransferRequest request, Card fromCard, Card toCard) {
        // –õ–æ–≥–∏–∫–∞ –Ω–µ—É—Å–ø–µ—à–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ - —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –±–µ–∑ –¥–≤–∏–∂–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤
    }
    
    @Override
    public boolean canHandle(TransactionStatus status) {
        return status == TransactionStatus.FAILED;
    }
}

// –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
@Component
public class TransactionProcessor {
    private final List<TransactionStatusStrategy> strategies;
    
    public TransactionDto processTransaction(TransferRequest request, TransactionStatus status) {
        TransactionStatusStrategy strategy = strategies.stream()
            .filter(s -> s.canHandle(status))
            .findFirst()
            .orElseThrow(() -> new IllegalArgumentException("No strategy found for status: " + status));
        
        return strategy.processTransaction(request, fromCard, toCard);
    }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
- –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

**–ê–≤—Ç–æ—Ä**: Abu  
**Email**: [out1of1mind1exception@gmail.com]()  
**GitHub**: [DesBasito](https://github.com/DesBasito)

---

‚≠ê –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥–æ—á–∫—É!